<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Aesthetic Options â€¢ controlcharts</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Aesthetic Options">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">controlcharts</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/aesthetic_options.html">Aesthetic Options</a></li>
    <li><a class="dropdown-item" href="../articles/chart_types.html">Chart Types in controlcharts</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started with the `controlcharts` package</a></li>
    <li><a class="dropdown-item" href="../articles/interactive_charts.html">Portable Interactive Control Charts</a></li>
    <li><a class="dropdown-item" href="../articles/outlier_detection.html">Outlier Detection and NHS Icons</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Aesthetic Options</h1>
            
      

      <div class="d-none name"><code>aesthetic_options.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://aus-doh-safety-and-quality.github.io/controlcharts/">controlcharts</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Visual adjustments in <code>controlcharts</code> are handled through
dedicated settings arguments. Each group of settings (e.g., canvas,
axes, lines) has its own argument (e.g., <code>canvas_settings</code>,
<code>x_axis_settings</code>).</p>
<p>To see the full list of available options for a group, you can use
the helper functions <code>spc_default_settings('{group_name}')</code>
or <code>funnel_default_settings('{group_name}')</code> (e.g.,
<code>spc_default_settings('x_axis')</code>).</p>
</div>
<div class="section level2">
<h2 id="setup-data">Setup Data<a class="anchor" aria-label="anchor" href="#setup-data"></a>
</h2>
<p>We will use the following synthetic datasets for the examples
below:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># SPC Data (Time Series)</span></span>
<span><span class="va">spc_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2023-01-01"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"month"</span>, length.out <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">15</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">25</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span>,</span>
<span>  group <span class="op">=</span> <span class="st">"A"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">spc_data</span><span class="op">$</span><span class="va">label_text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Val: "</span>, <span class="va">spc_data</span><span class="op">$</span><span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Funnel Data (Categorical)</span></span>
<span><span class="va">funnel_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>,</span>
<span>  num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  denom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">50</span><span class="op">:</span><span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="title-settings">Title Settings<a class="anchor" aria-label="anchor" href="#title-settings"></a>
</h2>
<p>The <code>title</code> argument allows you to add a plot title and
customize its font and position. Note that <code>title</code> takes a
named list of parameters.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="st">"Monthly Performance"</span>,</span>
<span>    font_size <span class="op">=</span> <span class="st">"20px"</span>,</span>
<span>    font_family <span class="op">=</span> <span class="st">"Courier New"</span>,</span>
<span>    font_weight <span class="op">=</span> <span class="st">"bold"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/title-1.svg"><!-- --></p>
</div>
<div class="section level2">
<h2 id="canvas-settings">Canvas Settings<a class="anchor" aria-label="anchor" href="#canvas-settings"></a>
</h2>
<p>The <code>canvas_settings</code> argument controls the overall plot
area, such as padding. This is useful if labels or titles are being
clipped.</p>
<div class="section level3">
<h3 id="spc-example">SPC Example<a class="anchor" aria-label="anchor" href="#spc-example"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  canvas_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    upper_padding <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    lower_padding <span class="op">=</span> <span class="fl">50</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/canvas_spc-1.svg"><!-- --></p>
</div>
<div class="section level3">
<h3 id="funnel-example">Funnel Example<a class="anchor" aria-label="anchor" href="#funnel-example"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span></span>
<span>  <span class="va">funnel_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">id</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">num</span>,</span>
<span>  denominators <span class="op">=</span> <span class="va">denom</span>,</span>
<span>  canvas_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    left_padding <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    right_padding <span class="op">=</span> <span class="fl">50</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/canvas_funnel-1.svg"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="axis-settings">Axis Settings<a class="anchor" aria-label="anchor" href="#axis-settings"></a>
</h2>
<p>You can customize the X and Y axes using <code>x_axis_settings</code>
and <code>y_axis_settings</code>. Common options include toggling
visibility, rotating ticks, and forcing limits.</p>
<div class="section level3">
<h3 id="x-axis">X Axis<a class="anchor" aria-label="anchor" href="#x-axis"></a>
</h3>
<div class="section level4">
<h4 id="spc-rotating-ticks">SPC: Rotating Ticks<a class="anchor" aria-label="anchor" href="#spc-rotating-ticks"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  x_axis_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    xlimit_tick_rotation <span class="op">=</span> <span class="op">-</span><span class="fl">45</span>,</span>
<span>    xlimit_label <span class="op">=</span> <span class="st">"Month of Observation"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/xaxis_spc-1.svg"><!-- --></p>
</div>
<div class="section level4">
<h4 id="funnel-axis-label">Funnel: Axis Label<a class="anchor" aria-label="anchor" href="#funnel-axis-label"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span></span>
<span>  <span class="va">funnel_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">id</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">num</span>,</span>
<span>  denominators <span class="op">=</span> <span class="va">denom</span>,</span>
<span>  x_axis_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    xlimit_label <span class="op">=</span> <span class="st">"Population Size (Denominator)"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/xaxis_funnel-1.svg"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="y-axis">Y Axis<a class="anchor" aria-label="anchor" href="#y-axis"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  y_axis_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ylimit_show <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># Ensure axis is shown</span></span>
<span>    limit_multiplier <span class="op">=</span> <span class="fl">2</span> <span class="co"># Expand the auto-calculated limits</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/yaxis-1.svg"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="date-settings-spc-only">Date Settings (SPC Only)<a class="anchor" aria-label="anchor" href="#date-settings-spc-only"></a>
</h2>
<p>For SPC charts with date keys, <code>date_settings</code> controls
how dates are formatted on the axis and tooltips.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  date_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    date_format_day <span class="op">=</span> <span class="st">"DD"</span>,</span>
<span>    date_format_month <span class="op">=</span> <span class="st">"Mon"</span>, <span class="co"># Abbreviated month</span></span>
<span>    date_format_year <span class="op">=</span> <span class="st">"YY"</span>,</span>
<span>    date_format_delim <span class="op">=</span> <span class="st">"-"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/dates-1.svg"><!-- --></p>
</div>
<div class="section level2">
<h2 id="line-settings">Line Settings<a class="anchor" aria-label="anchor" href="#line-settings"></a>
</h2>
<p>The <code>line_settings</code> argument allows customization of the
main data lines, including targets and limits lines.</p>
<div class="section level3">
<h3 id="spc-main-line">SPC: Main Line<a class="anchor" aria-label="anchor" href="#spc-main-line"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  line_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    colour_main <span class="op">=</span> <span class="st">"purple"</span>,</span>
<span>    width_main <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    type_main <span class="op">=</span> <span class="st">"2 5"</span> <span class="co"># Dashed line pattern</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/lines_spc-1.svg"><!-- --></p>
</div>
<div class="section level3">
<h3 id="funnel-limit-lines">Funnel: Limit Lines<a class="anchor" aria-label="anchor" href="#funnel-limit-lines"></a>
</h3>
<p>Funnel plots rely heavily on control limits. You can customize the
95% and 99% limits independently.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span></span>
<span>  <span class="va">funnel_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">id</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">num</span>,</span>
<span>  denominators <span class="op">=</span> <span class="va">denom</span>,</span>
<span>  line_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    colour_95 <span class="op">=</span> <span class="st">"orange"</span>,</span>
<span>    width_95 <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    type_95 <span class="op">=</span> <span class="st">"10 0"</span>, <span class="co"># Solid</span></span>
<span>    colour_99 <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>    width_99 <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/lines_funnel-1.svg"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="scatter-settings">Scatter Settings<a class="anchor" aria-label="anchor" href="#scatter-settings"></a>
</h2>
<p>Control the appearance of data points using
<code>scatter_settings</code>.</p>
<div class="section level3">
<h3 id="basic-point-styling">Basic Point Styling<a class="anchor" aria-label="anchor" href="#basic-point-styling"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span></span>
<span>  <span class="va">funnel_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">id</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">num</span>,</span>
<span>  denominators <span class="op">=</span> <span class="va">denom</span>,</span>
<span>  scatter_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    shape <span class="op">=</span> <span class="st">"Diamond"</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">8</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"orange"</span>,</span>
<span>    opacity <span class="op">=</span> <span class="fl">0.8</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/scatter-1.svg"><!-- --></p>
</div>
<div class="section level3">
<h3 id="point-label-styling-funnel-only">Point Label Styling (Funnel Only)<a class="anchor" aria-label="anchor" href="#point-label-styling-funnel-only"></a>
</h3>
<p>Funnel charts allow displaying the group key directly on the scatter
points (instead of floating tooltips). You can customize this text using
<code>scatter_text_*</code> options.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span></span>
<span>  <span class="va">funnel_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">id</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">num</span>,</span>
<span>  denominators <span class="op">=</span> <span class="va">denom</span>,</span>
<span>  scatter_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    use_group_text <span class="op">=</span> <span class="cn">TRUE</span>,     <span class="co"># Enable text labels on points</span></span>
<span>    scatter_text_colour <span class="op">=</span> <span class="st">"darkblue"</span>,</span>
<span>    scatter_text_size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>    scatter_text_font <span class="op">=</span> <span class="st">"Georgia"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/scatter_text-1.svg"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="label-settings">Label Settings<a class="anchor" aria-label="anchor" href="#label-settings"></a>
</h2>
<p>Data labels can be customized via <code>label_settings</code>. You
can pass a column to the <code>labels</code> argument to display custom
text.</p>
<div class="section level3">
<h3 id="spc-example-1">SPC Example<a class="anchor" aria-label="anchor" href="#spc-example-1"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">label_text</span>, <span class="co"># Using the custom column created earlier</span></span>
<span>  label_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    show_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    label_position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>    label_colour <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>    label_font <span class="op">=</span> <span class="st">"Verdana"</span>,</span>
<span>    label_size <span class="op">=</span> <span class="fl">10</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/labels_spc-1.svg"><!-- --></p>
</div>
<div class="section level3">
<h3 id="funnel-example-1">Funnel Example<a class="anchor" aria-label="anchor" href="#funnel-example-1"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span></span>
<span>  <span class="va">funnel_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">id</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">num</span>,</span>
<span>  denominators <span class="op">=</span> <span class="va">denom</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">id</span>, <span class="co"># Show ID as label</span></span>
<span>  label_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    show_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    label_colour <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>    label_font <span class="op">=</span> <span class="st">"Arial"</span>,</span>
<span>    label_size <span class="op">=</span> <span class="fl">12</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/labels_funnel-1.svg"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="conditional-formatting">Conditional Formatting<a class="anchor" aria-label="anchor" href="#conditional-formatting"></a>
</h2>
<p>A powerful feature of <code>controlcharts</code> is vectorised
settings. While most settings take a single value (e.g.,
<code>colour = "blue"</code>), specific settings accept a vector
matching the length of your data.</p>
<p>This allows you to apply conditional formatting logic directly from
R.</p>
<p>Currently, this is supported for: * <code>scatter_settings</code>
(Both SPC and Funnel) * <code>line_settings</code> (SPC Only)</p>
<div class="section level3">
<h3 id="conditional-point-colours">Conditional Point Colours<a class="anchor" aria-label="anchor" href="#conditional-point-colours"></a>
</h3>
<p>In this SPC example, we color data points red if they exceed a value
of 15.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a color vector matching the data logic</span></span>
<span><span class="va">point_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">spc_data</span><span class="op">$</span><span class="va">value</span> <span class="op">&gt;</span> <span class="fl">15</span>, <span class="st">"red"</span>, <span class="st">"#E69F00"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  scatter_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    colour <span class="op">=</span> <span class="va">point_colors</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">5</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/conditional_scatter_spc-1.svg"><!-- --></p>
<p>In this Funnel example, we highlight points with a high denominator
(large population).</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Logic: Highlight large denominators</span></span>
<span><span class="va">funnel_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">funnel_data</span><span class="op">$</span><span class="va">denom</span> <span class="op">&gt;</span> <span class="fl">80</span>, <span class="st">"green"</span>, <span class="st">"gray"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span></span>
<span>  <span class="va">funnel_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">id</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">num</span>,</span>
<span>  denominators <span class="op">=</span> <span class="va">denom</span>,</span>
<span>  scatter_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    colour <span class="op">=</span> <span class="va">funnel_cols</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    opacity <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/conditional_scatter_funnel-1.svg"><!-- --></p>
</div>
<div class="section level3">
<h3 id="conditional-line-segments-spc-only">Conditional Line Segments (SPC Only)<a class="anchor" aria-label="anchor" href="#conditional-line-segments-spc-only"></a>
</h3>
<p>You can also color different segments of the main line. This is
useful for highlighting specific time periods or phases.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define colors for line segments</span></span>
<span><span class="co"># Note: The vector length corresponds to the points; segments connect points.</span></span>
<span><span class="va">line_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"gray"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">spc_data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">line_colors</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"orange"</span> <span class="co"># Highlight a middle section</span></span>
<span></span>
<span><span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span></span>
<span>  <span class="va">spc_data</span>,</span>
<span>  keys <span class="op">=</span> <span class="va">date</span>,</span>
<span>  numerators <span class="op">=</span> <span class="va">value</span>,</span>
<span>  line_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    colour_main <span class="op">=</span> <span class="va">line_colors</span>,</span>
<span>    width_main <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="aesthetic_options_files/figure-html/conditional_lines-1.svg"><!-- --></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrew R. Johnson, Healthcare Quality Intelligence Unit (Western Australia Health).</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
