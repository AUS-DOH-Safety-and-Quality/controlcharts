<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chart Types in controlcharts • controlcharts</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Chart Types in controlcharts">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">controlcharts</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/aesthetic_options.html">Aesthetic Options</a></li>
    <li><a class="dropdown-item" href="../articles/chart_types.html">Chart Types in controlcharts</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started with the `controlcharts` package</a></li>
    <li><a class="dropdown-item" href="../articles/interactive_charts.html">Portable Interactive Control Charts</a></li>
    <li><a class="dropdown-item" href="../articles/outlier_detection.html">Outlier Detection and NHS Icons</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Chart Types in controlcharts</h1>
            
      

      <div class="d-none name"><code>chart_types.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>controlcharts</code> package supports a comprehensive range
of Statistical Process Control (SPC) charts and funnel plots. This
vignette demonstrates all available chart types with examples of their
usage.</p>
</div>
<div class="section level2">
<h2 id="spc-chart-types">SPC Chart Types<a class="anchor" aria-label="anchor" href="#spc-chart-types"></a>
</h2>
<p>The package supports 14 different SPC chart types, each designed for
specific data characteristics and monitoring scenarios.</p>
<div class="section level3">
<h3 id="basic-charts">Basic Charts<a class="anchor" aria-label="anchor" href="#basic-charts"></a>
</h3>
<div class="section level4">
<h4 id="run-chart">Run Chart<a class="anchor" aria-label="anchor" href="#run-chart"></a>
</h4>
<p>A run chart displays data over time without statistical control
limits. It’s useful for visualizing trends and patterns in data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate 24 months of data</span></span>
<span><span class="va">dat_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">24</span>, mean <span class="op">=</span> <span class="fl">100</span>, sd <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_run</span>,</span>
<span>                 keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                 numerators <span class="op">=</span> <span class="va">y</span>,</span>
<span>                 spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"run"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_run</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/run_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_run</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">date</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01/01/2024</td>
<td align="right">100.67</td>
<td align="right">100.29</td>
<td align="right">94.37</td>
</tr>
<tr class="even">
<td align="left">01/02/2024</td>
<td align="right">107.95</td>
<td align="right">100.29</td>
<td align="right">94.74</td>
</tr>
<tr class="odd">
<td align="left">01/03/2024</td>
<td align="right">115.18</td>
<td align="right">100.29</td>
<td align="right">95.11</td>
</tr>
<tr class="even">
<td align="left">01/04/2024</td>
<td align="right">78.35</td>
<td align="right">100.29</td>
<td align="right">95.48</td>
</tr>
<tr class="odd">
<td align="left">01/05/2024</td>
<td align="right">97.86</td>
<td align="right">100.29</td>
<td align="right">95.85</td>
</tr>
<tr class="even">
<td align="left">01/06/2024</td>
<td align="right">101.29</td>
<td align="right">100.29</td>
<td align="right">96.22</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="individuals-chart-i-chart">Individuals Chart (i-chart)<a class="anchor" aria-label="anchor" href="#individuals-chart-i-chart"></a>
</h4>
<p>The individuals chart (also called an XmR chart) is the default chart
type. It monitors individual measurements with control limits based on
the moving range.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">24</span>, mean <span class="op">=</span> <span class="fl">50</span>, sd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_i</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_i</span>,</span>
<span>               keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>               numerators <span class="op">=</span> <span class="va">y</span>,</span>
<span>               spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"i"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_i</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/i_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_i</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="8%">
<col width="9%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">date</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01/01/2024</td>
<td align="right">49.13</td>
<td align="right">50.86</td>
<td align="right">43.35</td>
<td align="right">45.85</td>
<td align="right">48.36</td>
<td align="right">53.36</td>
<td align="right">55.86</td>
<td align="right">58.36</td>
<td align="right">51.48</td>
</tr>
<tr class="even">
<td align="left">01/02/2024</td>
<td align="right">54.28</td>
<td align="right">50.86</td>
<td align="right">43.35</td>
<td align="right">45.85</td>
<td align="right">48.36</td>
<td align="right">53.36</td>
<td align="right">55.86</td>
<td align="right">58.36</td>
<td align="right">51.43</td>
</tr>
<tr class="odd">
<td align="left">01/03/2024</td>
<td align="right">51.43</td>
<td align="right">50.86</td>
<td align="right">43.35</td>
<td align="right">45.85</td>
<td align="right">48.36</td>
<td align="right">53.36</td>
<td align="right">55.86</td>
<td align="right">58.36</td>
<td align="right">51.37</td>
</tr>
<tr class="even">
<td align="left">01/04/2024</td>
<td align="right">50.12</td>
<td align="right">50.86</td>
<td align="right">43.35</td>
<td align="right">45.85</td>
<td align="right">48.36</td>
<td align="right">53.36</td>
<td align="right">55.86</td>
<td align="right">58.36</td>
<td align="right">51.32</td>
</tr>
<tr class="odd">
<td align="left">01/05/2024</td>
<td align="right">49.71</td>
<td align="right">50.86</td>
<td align="right">43.35</td>
<td align="right">45.85</td>
<td align="right">48.36</td>
<td align="right">53.36</td>
<td align="right">55.86</td>
<td align="right">58.36</td>
<td align="right">51.26</td>
</tr>
<tr class="even">
<td align="left">01/06/2024</td>
<td align="right">53.72</td>
<td align="right">50.86</td>
<td align="right">43.35</td>
<td align="right">45.85</td>
<td align="right">48.36</td>
<td align="right">53.36</td>
<td align="right">55.86</td>
<td align="right">58.36</td>
<td align="right">51.21</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="individuals-chart-with-ratios">Individuals Chart with Ratios<a class="anchor" aria-label="anchor" href="#individuals-chart-with-ratios"></a>
</h4>
<p>i-charts can also monitor ratios by providing both numerators and
denominators. The chart will automatically calculate and plot the ratio
with appropriate control limits.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: monitoring average processing time per case</span></span>
<span><span class="va">dat_ratio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  total_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">24</span>, lambda <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>,</span>
<span>  num_cases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">24</span>, lambda <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_ratio</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_ratio</span>,</span>
<span>                   keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                   numerators <span class="op">=</span> <span class="va">total_time</span>,</span>
<span>                   denominators <span class="op">=</span> <span class="va">num_cases</span>,</span>
<span>                   spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"i"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_ratio</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/i_ratio-1.svg"><!-- --></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_ratio</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="12%">
<col width="11%">
<col width="13%">
<col width="6%">
<col width="8%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">date</th>
<th align="right">numerator</th>
<th align="right">denominator</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01/01/2024</td>
<td align="right">127</td>
<td align="right">31</td>
<td align="right">4.10</td>
<td align="right">5.03</td>
<td align="right">2.49</td>
<td align="right">3.34</td>
<td align="right">4.18</td>
<td align="right">5.88</td>
<td align="right">6.73</td>
<td align="right">7.58</td>
<td align="right">4.93</td>
</tr>
<tr class="even">
<td align="left">01/02/2024</td>
<td align="right">114</td>
<td align="right">23</td>
<td align="right">4.96</td>
<td align="right">5.03</td>
<td align="right">2.49</td>
<td align="right">3.34</td>
<td align="right">4.18</td>
<td align="right">5.88</td>
<td align="right">6.73</td>
<td align="right">7.58</td>
<td align="right">4.94</td>
</tr>
<tr class="odd">
<td align="left">01/03/2024</td>
<td align="right">123</td>
<td align="right">23</td>
<td align="right">5.35</td>
<td align="right">5.03</td>
<td align="right">2.49</td>
<td align="right">3.34</td>
<td align="right">4.18</td>
<td align="right">5.88</td>
<td align="right">6.73</td>
<td align="right">7.58</td>
<td align="right">4.95</td>
</tr>
<tr class="even">
<td align="left">01/04/2024</td>
<td align="right">127</td>
<td align="right">26</td>
<td align="right">4.88</td>
<td align="right">5.03</td>
<td align="right">2.49</td>
<td align="right">3.34</td>
<td align="right">4.18</td>
<td align="right">5.88</td>
<td align="right">6.73</td>
<td align="right">7.58</td>
<td align="right">4.96</td>
</tr>
<tr class="odd">
<td align="left">01/05/2024</td>
<td align="right">109</td>
<td align="right">21</td>
<td align="right">5.19</td>
<td align="right">5.03</td>
<td align="right">2.49</td>
<td align="right">3.34</td>
<td align="right">4.18</td>
<td align="right">5.88</td>
<td align="right">6.73</td>
<td align="right">7.58</td>
<td align="right">4.97</td>
</tr>
<tr class="even">
<td align="left">01/06/2024</td>
<td align="right">109</td>
<td align="right">26</td>
<td align="right">4.19</td>
<td align="right">5.03</td>
<td align="right">2.49</td>
<td align="right">3.34</td>
<td align="right">4.18</td>
<td align="right">5.88</td>
<td align="right">6.73</td>
<td align="right">7.58</td>
<td align="right">4.98</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="individuals-chart-with-median-centerline-i_m">Individuals Chart with Median Centerline (i_m)<a class="anchor" aria-label="anchor" href="#individuals-chart-with-median-centerline-i_m"></a>
</h4>
<p>Uses the median instead of the mean for the centerline, making it
more robust to outliers.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_im</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">20</span>, mean <span class="op">=</span> <span class="fl">50</span>, sd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="fl">75</span>, <span class="fl">78</span>, <span class="fl">72</span>, <span class="fl">71</span><span class="op">)</span>  <span class="co"># Some outliers</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_im</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_im</span>,</span>
<span>                keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                numerators <span class="op">=</span> <span class="va">y</span>,</span>
<span>                spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"i_m"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_im</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/im_chart-1.svg"><!-- --></p>
</div>
<div class="section level4">
<h4 id="individuals-chart-with-median-limits-i_mm">Individuals Chart with Median Limits (i_mm)<a class="anchor" aria-label="anchor" href="#individuals-chart-with-median-limits-i_mm"></a>
</h4>
<p>You can use both median centerline and median-based moving range
limits.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chart_imm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_im</span>,</span>
<span>                 keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                 numerators <span class="op">=</span> <span class="va">y</span>,</span>
<span>                 spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"i_mm"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_imm</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/imm_chart-1.svg"><!-- --></p>
</div>
<div class="section level4">
<h4 id="moving-range-chart-mr">Moving Range Chart (mr)<a class="anchor" aria-label="anchor" href="#moving-range-chart-mr"></a>
</h4>
<p>Plots the moving range between consecutive measurements.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_mr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">24</span>, mean <span class="op">=</span> <span class="fl">10</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_mr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_mr</span>,</span>
<span>                keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                numerators <span class="op">=</span> <span class="va">y</span>,</span>
<span>                spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"mr"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_mr</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/mr_chart-1.svg"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="proportion-charts">Proportion Charts<a class="anchor" aria-label="anchor" href="#proportion-charts"></a>
</h3>
<div class="section level4">
<h4 id="p-chart-proportions">p-chart (Proportions)<a class="anchor" aria-label="anchor" href="#p-chart-proportions"></a>
</h4>
<p>Monitors proportions when the numerator cannot exceed the denominator
(e.g., defect rates, complication rates).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  denominator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">80</span><span class="op">:</span><span class="fl">120</span>, <span class="fl">24</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">dat_p</span><span class="op">$</span><span class="va">numerator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">24</span>, size <span class="op">=</span> <span class="va">dat_p</span><span class="op">$</span><span class="va">denominator</span>, prob <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_p</span>,</span>
<span>               keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>               numerators <span class="op">=</span> <span class="va">numerator</span>,</span>
<span>               denominators <span class="op">=</span> <span class="va">denominator</span>,</span>
<span>               spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_p</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/p_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_p</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="11%">
<col width="10%">
<col width="12%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">date</th>
<th align="right">numerator</th>
<th align="right">denominator</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01/01/2024</td>
<td align="right">14</td>
<td align="right">110</td>
<td align="right">12.727</td>
<td align="right">15.889</td>
<td align="right">5.432</td>
<td align="right">8.918</td>
<td align="right">12.403</td>
<td align="right">19.374</td>
<td align="right">22.860</td>
<td align="right">26.345</td>
<td align="right">0.152</td>
</tr>
<tr class="even">
<td align="left">01/02/2024</td>
<td align="right">17</td>
<td align="right">120</td>
<td align="right">14.167</td>
<td align="right">15.889</td>
<td align="right">5.877</td>
<td align="right">9.214</td>
<td align="right">12.551</td>
<td align="right">19.226</td>
<td align="right">22.563</td>
<td align="right">25.900</td>
<td align="right">0.152</td>
</tr>
<tr class="odd">
<td align="left">01/03/2024</td>
<td align="right">10</td>
<td align="right">83</td>
<td align="right">12.048</td>
<td align="right">15.889</td>
<td align="right">3.851</td>
<td align="right">7.863</td>
<td align="right">11.876</td>
<td align="right">19.901</td>
<td align="right">23.914</td>
<td align="right">27.927</td>
<td align="right">0.153</td>
</tr>
<tr class="even">
<td align="left">01/04/2024</td>
<td align="right">17</td>
<td align="right">105</td>
<td align="right">16.190</td>
<td align="right">15.889</td>
<td align="right">5.186</td>
<td align="right">8.753</td>
<td align="right">12.321</td>
<td align="right">19.456</td>
<td align="right">23.024</td>
<td align="right">26.591</td>
<td align="right">0.154</td>
</tr>
<tr class="odd">
<td align="left">01/05/2024</td>
<td align="right">10</td>
<td align="right">81</td>
<td align="right">12.346</td>
<td align="right">15.889</td>
<td align="right">3.703</td>
<td align="right">7.765</td>
<td align="right">11.827</td>
<td align="right">19.951</td>
<td align="right">24.012</td>
<td align="right">28.074</td>
<td align="right">0.155</td>
</tr>
<tr class="even">
<td align="left">01/06/2024</td>
<td align="right">13</td>
<td align="right">83</td>
<td align="right">15.663</td>
<td align="right">15.889</td>
<td align="right">3.851</td>
<td align="right">7.863</td>
<td align="right">11.876</td>
<td align="right">19.901</td>
<td align="right">23.914</td>
<td align="right">27.927</td>
<td align="right">0.155</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="p-prime-chart-pp">p-prime Chart (pp)<a class="anchor" aria-label="anchor" href="#p-prime-chart-pp"></a>
</h4>
<p>Proportion chart with large-sample correction for better accuracy
with varying sample sizes.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chart_pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_p</span>,</span>
<span>                keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                numerators <span class="op">=</span> <span class="va">numerator</span>,</span>
<span>                denominators <span class="op">=</span> <span class="va">denominator</span>,</span>
<span>                spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"pp"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_pp</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/pp_chart-1.svg"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="rate-charts">Rate Charts<a class="anchor" aria-label="anchor" href="#rate-charts"></a>
</h3>
<div class="section level4">
<h4 id="u-chart-rates">u-chart (Rates)<a class="anchor" aria-label="anchor" href="#u-chart-rates"></a>
</h4>
<p>Monitors rates (events per unit exposure), such as infections per
1000 patient-days.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  infections <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">24</span>, lambda <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>,</span>
<span>  patient_days <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">200</span><span class="op">:</span><span class="fl">400</span>, <span class="fl">24</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_u</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_u</span>,</span>
<span>               keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>               numerators <span class="op">=</span> <span class="va">infections</span>,</span>
<span>               denominators <span class="op">=</span> <span class="va">patient_days</span>,</span>
<span>               spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"u"</span>, multiplier <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_u</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/u_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_u</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="11%">
<col width="10%">
<col width="13%">
<col width="6%">
<col width="7%">
<col width="5%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">date</th>
<th align="right">numerator</th>
<th align="right">denominator</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01/01/2024</td>
<td align="right">5</td>
<td align="right">305</td>
<td align="right">16.39</td>
<td align="right">27.35</td>
<td align="right">0.00</td>
<td align="right">8.41</td>
<td align="right">17.88</td>
<td align="right">36.82</td>
<td align="right">46.28</td>
<td align="right">55.75</td>
<td align="right">0.02</td>
</tr>
<tr class="even">
<td align="left">01/02/2024</td>
<td align="right">4</td>
<td align="right">295</td>
<td align="right">13.56</td>
<td align="right">27.35</td>
<td align="right">0.00</td>
<td align="right">8.09</td>
<td align="right">17.72</td>
<td align="right">36.98</td>
<td align="right">46.60</td>
<td align="right">56.23</td>
<td align="right">0.02</td>
</tr>
<tr class="odd">
<td align="left">01/03/2024</td>
<td align="right">8</td>
<td align="right">238</td>
<td align="right">33.61</td>
<td align="right">27.35</td>
<td align="right">0.00</td>
<td align="right">5.91</td>
<td align="right">16.63</td>
<td align="right">38.07</td>
<td align="right">48.79</td>
<td align="right">59.50</td>
<td align="right">0.02</td>
</tr>
<tr class="even">
<td align="left">01/04/2024</td>
<td align="right">7</td>
<td align="right">333</td>
<td align="right">21.02</td>
<td align="right">27.35</td>
<td align="right">0.16</td>
<td align="right">9.22</td>
<td align="right">18.28</td>
<td align="right">36.41</td>
<td align="right">45.47</td>
<td align="right">54.53</td>
<td align="right">0.02</td>
</tr>
<tr class="odd">
<td align="left">01/05/2024</td>
<td align="right">11</td>
<td align="right">258</td>
<td align="right">42.64</td>
<td align="right">27.35</td>
<td align="right">0.00</td>
<td align="right">6.76</td>
<td align="right">17.05</td>
<td align="right">37.64</td>
<td align="right">47.94</td>
<td align="right">58.23</td>
<td align="right">0.03</td>
</tr>
<tr class="even">
<td align="left">01/06/2024</td>
<td align="right">6</td>
<td align="right">394</td>
<td align="right">15.23</td>
<td align="right">27.35</td>
<td align="right">2.35</td>
<td align="right">10.68</td>
<td align="right">19.02</td>
<td align="right">35.68</td>
<td align="right">44.01</td>
<td align="right">52.34</td>
<td align="right">0.03</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="u-prime-chart-up">u-prime Chart (up)<a class="anchor" aria-label="anchor" href="#u-prime-chart-up"></a>
</h4>
<p>Rate chart with large-sample correction.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chart_up</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_u</span>,</span>
<span>                keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                numerators <span class="op">=</span> <span class="va">infections</span>,</span>
<span>                denominators <span class="op">=</span> <span class="va">patient_days</span>,</span>
<span>                spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"up"</span>, multiplier <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_up</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/up_chart-1.svg"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="count-charts">Count Charts<a class="anchor" aria-label="anchor" href="#count-charts"></a>
</h3>
<div class="section level4">
<h4 id="c-chart-counts">c-chart (Counts)<a class="anchor" aria-label="anchor" href="#c-chart-counts"></a>
</h4>
<p>Monitors count data where each observation represents the number of
events in a fixed area of opportunity.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  defects <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">24</span>, lambda <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_c</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_c</span>,</span>
<span>               keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>               numerators <span class="op">=</span> <span class="va">defects</span>,</span>
<span>               spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_c</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/c_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_c</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="16%">
<col width="8%">
<col width="10%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th align="left">date</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01/01/2024</td>
<td align="right">18</td>
<td align="right">13.67</td>
<td align="right">2.58</td>
<td align="right">6.27</td>
<td align="right">9.97</td>
<td align="right">17.36</td>
<td align="right">21.06</td>
<td align="right">24.76</td>
<td align="right">14.51</td>
</tr>
<tr class="even">
<td align="left">01/02/2024</td>
<td align="right">11</td>
<td align="right">13.67</td>
<td align="right">2.58</td>
<td align="right">6.27</td>
<td align="right">9.97</td>
<td align="right">17.36</td>
<td align="right">21.06</td>
<td align="right">24.76</td>
<td align="right">14.43</td>
</tr>
<tr class="odd">
<td align="left">01/03/2024</td>
<td align="right">17</td>
<td align="right">13.67</td>
<td align="right">2.58</td>
<td align="right">6.27</td>
<td align="right">9.97</td>
<td align="right">17.36</td>
<td align="right">21.06</td>
<td align="right">24.76</td>
<td align="right">14.36</td>
</tr>
<tr class="even">
<td align="left">01/04/2024</td>
<td align="right">11</td>
<td align="right">13.67</td>
<td align="right">2.58</td>
<td align="right">6.27</td>
<td align="right">9.97</td>
<td align="right">17.36</td>
<td align="right">21.06</td>
<td align="right">24.76</td>
<td align="right">14.29</td>
</tr>
<tr class="odd">
<td align="left">01/05/2024</td>
<td align="right">10</td>
<td align="right">13.67</td>
<td align="right">2.58</td>
<td align="right">6.27</td>
<td align="right">9.97</td>
<td align="right">17.36</td>
<td align="right">21.06</td>
<td align="right">24.76</td>
<td align="right">14.21</td>
</tr>
<tr class="even">
<td align="left">01/06/2024</td>
<td align="right">21</td>
<td align="right">13.67</td>
<td align="right">2.58</td>
<td align="right">6.27</td>
<td align="right">9.97</td>
<td align="right">17.36</td>
<td align="right">21.06</td>
<td align="right">24.76</td>
<td align="right">14.14</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="sample-based-charts">Sample-Based Charts<a class="anchor" aria-label="anchor" href="#sample-based-charts"></a>
</h3>
<div class="section level4">
<h4 id="xbar-chart-sample-means">xbar Chart (Sample Means)<a class="anchor" aria-label="anchor" href="#xbar-chart-sample-means"></a>
</h4>
<p>Monitors the mean of samples when multiple measurements are taken at
each time point.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_xbar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">24</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  sample_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">24</span>, mean <span class="op">=</span> <span class="fl">100</span>, sd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  sample_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">24</span><span class="op">)</span>,</span>
<span>  sample_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html" class="external-link">rchisq</a></span><span class="op">(</span><span class="fl">24</span>, df <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_xbar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_xbar</span>,</span>
<span>                  keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>                  numerators <span class="op">=</span> <span class="va">sample_mean</span>,</span>
<span>                  denominators <span class="op">=</span> <span class="va">sample_size</span>,</span>
<span>                  xbar_sds <span class="op">=</span> <span class="va">sample_sd</span>,</span>
<span>                  spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"xbar"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_xbar</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/xbar_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_xbar</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="14%">
<col width="9%">
<col width="9%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">date</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">01/01/2024</td>
<td align="right">99.11</td>
<td align="right">99.97</td>
<td align="right">95.62</td>
<td align="right">97.07</td>
<td align="right">98.52</td>
<td align="right">101.42</td>
<td align="right">102.87</td>
<td align="right">104.32</td>
<td align="right">99.52</td>
</tr>
<tr class="even">
<td align="left">01/02/2024</td>
<td align="right">99.74</td>
<td align="right">99.97</td>
<td align="right">95.62</td>
<td align="right">97.07</td>
<td align="right">98.52</td>
<td align="right">101.42</td>
<td align="right">102.87</td>
<td align="right">104.32</td>
<td align="right">99.56</td>
</tr>
<tr class="odd">
<td align="left">01/03/2024</td>
<td align="right">96.38</td>
<td align="right">99.97</td>
<td align="right">95.62</td>
<td align="right">97.07</td>
<td align="right">98.52</td>
<td align="right">101.42</td>
<td align="right">102.87</td>
<td align="right">104.32</td>
<td align="right">99.60</td>
</tr>
<tr class="even">
<td align="left">01/04/2024</td>
<td align="right">98.11</td>
<td align="right">99.97</td>
<td align="right">95.62</td>
<td align="right">97.07</td>
<td align="right">98.52</td>
<td align="right">101.42</td>
<td align="right">102.87</td>
<td align="right">104.32</td>
<td align="right">99.64</td>
</tr>
<tr class="odd">
<td align="left">01/05/2024</td>
<td align="right">97.13</td>
<td align="right">99.97</td>
<td align="right">95.62</td>
<td align="right">97.07</td>
<td align="right">98.52</td>
<td align="right">101.42</td>
<td align="right">102.87</td>
<td align="right">104.32</td>
<td align="right">99.67</td>
</tr>
<tr class="even">
<td align="left">01/06/2024</td>
<td align="right">100.52</td>
<td align="right">99.97</td>
<td align="right">95.62</td>
<td align="right">97.07</td>
<td align="right">98.52</td>
<td align="right">101.42</td>
<td align="right">102.87</td>
<td align="right">104.32</td>
<td align="right">99.71</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="s-chart-sample-standard-deviations">s Chart (Sample Standard Deviations)<a class="anchor" aria-label="anchor" href="#s-chart-sample-standard-deviations"></a>
</h4>
<p>Monitors the standard deviation of samples.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chart_s</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_xbar</span>,</span>
<span>               keys <span class="op">=</span> <span class="va">month</span>,</span>
<span>               numerators <span class="op">=</span> <span class="va">sample_sd</span>,</span>
<span>               denominators <span class="op">=</span> <span class="va">sample_size</span>,</span>
<span>               spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"s"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_s</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/s_chart-1.svg"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="event-based-charts">Event-Based Charts<a class="anchor" aria-label="anchor" href="#event-based-charts"></a>
</h3>
<p>Event-based charts use sequential event numbers on the x-axis rather
than dates.</p>
<div class="section level4">
<h4 id="g-chart-geometric">g Chart (Geometric)<a class="anchor" aria-label="anchor" href="#g-chart-geometric"></a>
</h4>
<p>Monitors the number of non-events between events (e.g., days between
accidents).</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  event <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">20</span>,</span>
<span>  opportunities_between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">20</span>, lambda <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_g</span>,</span>
<span>               keys <span class="op">=</span> <span class="va">event</span>,</span>
<span>               numerators <span class="op">=</span> <span class="va">opportunities_between</span>,</span>
<span>               spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"g"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_g</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/g_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_g</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="8%">
<col width="9%">
<col width="11%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">date</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">12</td>
<td align="right">14.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">29.89</td>
<td align="right">45.08</td>
<td align="right">60.28</td>
<td align="right">12.77</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">17</td>
<td align="right">14.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">29.89</td>
<td align="right">45.08</td>
<td align="right">60.28</td>
<td align="right">12.97</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">13</td>
<td align="right">14.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">29.89</td>
<td align="right">45.08</td>
<td align="right">60.28</td>
<td align="right">13.18</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">11</td>
<td align="right">14.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">29.89</td>
<td align="right">45.08</td>
<td align="right">60.28</td>
<td align="right">13.38</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">11</td>
<td align="right">14.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">29.89</td>
<td align="right">45.08</td>
<td align="right">60.28</td>
<td align="right">13.58</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">19</td>
<td align="right">14.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">29.89</td>
<td align="right">45.08</td>
<td align="right">60.28</td>
<td align="right">13.79</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="t-chart-time-between-events">t Chart (Time Between Events)<a class="anchor" aria-label="anchor" href="#t-chart-time-between-events"></a>
</h4>
<p>Monitors the time intervals between events.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  event <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">20</span>,</span>
<span>  days_between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html" class="external-link">rexp</a></span><span class="op">(</span><span class="fl">20</span>, rate <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">30</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_t</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spc.html">spc</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_t</span>,</span>
<span>               keys <span class="op">=</span> <span class="va">event</span>,</span>
<span>               numerators <span class="op">=</span> <span class="va">days_between</span>,</span>
<span>               spc_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"t"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart_t</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/t_chart-1.svg"><!-- --></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chart_t</span><span class="op">$</span><span class="va">limits</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">date</th>
<th align="right">value</th>
<th align="right">target</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">trend_line</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">14.40</td>
<td align="right">16.59</td>
<td align="right">0.92</td>
<td align="right">3.17</td>
<td align="right">7.97</td>
<td align="right">30.5</td>
<td align="right">51.34</td>
<td align="right">80.9</td>
<td align="right">25.67</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">68.34</td>
<td align="right">16.59</td>
<td align="right">0.92</td>
<td align="right">3.17</td>
<td align="right">7.97</td>
<td align="right">30.5</td>
<td align="right">51.34</td>
<td align="right">80.9</td>
<td align="right">25.09</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">12.76</td>
<td align="right">16.59</td>
<td align="right">0.92</td>
<td align="right">3.17</td>
<td align="right">7.97</td>
<td align="right">30.5</td>
<td align="right">51.34</td>
<td align="right">80.9</td>
<td align="right">24.52</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">10.45</td>
<td align="right">16.59</td>
<td align="right">0.92</td>
<td align="right">3.17</td>
<td align="right">7.97</td>
<td align="right">30.5</td>
<td align="right">51.34</td>
<td align="right">80.9</td>
<td align="right">23.95</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">32.05</td>
<td align="right">16.59</td>
<td align="right">0.92</td>
<td align="right">3.17</td>
<td align="right">7.97</td>
<td align="right">30.5</td>
<td align="right">51.34</td>
<td align="right">80.9</td>
<td align="right">23.37</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">15.34</td>
<td align="right">16.59</td>
<td align="right">0.92</td>
<td align="right">3.17</td>
<td align="right">7.97</td>
<td align="right">30.5</td>
<td align="right">51.34</td>
<td align="right">80.9</td>
<td align="right">22.80</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="funnel-plot-types">Funnel Plot Types<a class="anchor" aria-label="anchor" href="#funnel-plot-types"></a>
</h2>
<p>Funnel plots are used to compare performance across multiple
organizations or groups, accounting for natural variation due to
different sample sizes.</p>
<div class="section level3">
<h3 id="pr---proportion-funnel">PR - Proportion Funnel<a class="anchor" aria-label="anchor" href="#pr---proportion-funnel"></a>
</h3>
<p>The default funnel plot type for proportion data. Uses arc-sine
transformation.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate complication rates across 10 hospitals</span></span>
<span><span class="va">denoms_pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">100</span><span class="op">:</span><span class="fl">300</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">dat_pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  hospital <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Hospital "</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  complications <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">10</span>, size <span class="op">=</span> <span class="va">denoms_pr</span>, prob <span class="op">=</span> <span class="fl">0.12</span><span class="op">)</span>,</span>
<span>  procedures <span class="op">=</span> <span class="va">denoms_pr</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_pr</span>,</span>
<span>                    keys <span class="op">=</span> <span class="va">hospital</span>,</span>
<span>                    numerators <span class="op">=</span> <span class="va">complications</span>,</span>
<span>                    denominators <span class="op">=</span> <span class="va">procedures</span>,</span>
<span>                    funnel_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"PR"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_pr</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/pr_funnel-1.svg"><!-- --></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">funnel_pr</span><span class="op">$</span><span class="va">limits</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="12%">
<col width="11%">
<col width="8%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="right">denominator</th>
<th align="left">group</th>
<th align="right">numerator</th>
<th align="right">value</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">target</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">139</td>
<td align="left">Hospital G</td>
<td align="right">19</td>
<td align="right">13.669</td>
<td align="right">4.381</td>
<td align="right">6.549</td>
<td align="right">8.719</td>
<td align="right">14.041</td>
<td align="right">17.004</td>
<td align="right">20.751</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">148</td>
<td align="left">Hospital A</td>
<td align="right">24</td>
<td align="right">16.216</td>
<td align="right">4.548</td>
<td align="right">6.677</td>
<td align="right">8.792</td>
<td align="right">13.951</td>
<td align="right">16.811</td>
<td align="right">20.424</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">166</td>
<td align="left">Hospital I</td>
<td align="right">18</td>
<td align="right">10.843</td>
<td align="right">4.848</td>
<td align="right">6.903</td>
<td align="right">8.922</td>
<td align="right">13.793</td>
<td align="right">16.477</td>
<td align="right">19.856</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">179</td>
<td align="left">Hospital D</td>
<td align="right">13</td>
<td align="right">7.263</td>
<td align="right">5.040</td>
<td align="right">7.046</td>
<td align="right">9.004</td>
<td align="right">13.695</td>
<td align="right">16.268</td>
<td align="right">19.503</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">191</td>
<td align="left">Hospital F</td>
<td align="right">19</td>
<td align="right">9.948</td>
<td align="right">5.203</td>
<td align="right">7.167</td>
<td align="right">9.072</td>
<td align="right">13.614</td>
<td align="right">16.096</td>
<td align="right">19.212</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">215</td>
<td align="left">Hospital B</td>
<td align="right">31</td>
<td align="right">14.419</td>
<td align="right">5.492</td>
<td align="right">7.378</td>
<td align="right">9.191</td>
<td align="right">13.472</td>
<td align="right">15.798</td>
<td align="right">18.708</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">242</td>
<td align="left">Hospital C</td>
<td align="right">23</td>
<td align="right">9.504</td>
<td align="right">5.771</td>
<td align="right">7.580</td>
<td align="right">9.304</td>
<td align="right">13.339</td>
<td align="right">15.519</td>
<td align="right">18.238</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">260</td>
<td align="left">Hospital E</td>
<td align="right">30</td>
<td align="right">11.538</td>
<td align="right">5.935</td>
<td align="right">7.698</td>
<td align="right">9.369</td>
<td align="right">13.263</td>
<td align="right">15.358</td>
<td align="right">17.969</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">284</td>
<td align="left">Hospital J</td>
<td align="right">34</td>
<td align="right">11.972</td>
<td align="right">6.132</td>
<td align="right">7.839</td>
<td align="right">9.447</td>
<td align="right">13.173</td>
<td align="right">15.170</td>
<td align="right">17.652</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">293</td>
<td align="left">Hospital H</td>
<td align="right">27</td>
<td align="right">9.215</td>
<td align="right">6.200</td>
<td align="right">7.887</td>
<td align="right">9.474</td>
<td align="right">13.142</td>
<td align="right">15.105</td>
<td align="right">17.544</td>
<td align="right">11.242</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="pr-funnel-with-overdispersion-adjustment">PR Funnel with Overdispersion Adjustment<a class="anchor" aria-label="anchor" href="#pr-funnel-with-overdispersion-adjustment"></a>
</h4>
<p>When data shows more variation than expected, overdispersion
adjustment widens the control limits.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">funnel_pr_od</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_pr</span>,</span>
<span>                       keys <span class="op">=</span> <span class="va">hospital</span>,</span>
<span>                       numerators <span class="op">=</span> <span class="va">complications</span>,</span>
<span>                       denominators <span class="op">=</span> <span class="va">procedures</span>,</span>
<span>                       funnel_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"PR"</span>,</span>
<span>                                              od_adjust <span class="op">=</span> <span class="st">"yes"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_pr_od</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/pr_od_funnel-1.svg"><!-- --></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">funnel_pr_od</span><span class="op">$</span><span class="va">limits</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="12%">
<col width="11%">
<col width="8%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="right">denominator</th>
<th align="left">group</th>
<th align="right">numerator</th>
<th align="right">value</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">target</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">139</td>
<td align="left">Hospital G</td>
<td align="right">19</td>
<td align="right">13.669</td>
<td align="right">4.381</td>
<td align="right">6.549</td>
<td align="right">8.719</td>
<td align="right">14.041</td>
<td align="right">17.004</td>
<td align="right">20.751</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">148</td>
<td align="left">Hospital A</td>
<td align="right">24</td>
<td align="right">16.216</td>
<td align="right">4.548</td>
<td align="right">6.677</td>
<td align="right">8.792</td>
<td align="right">13.951</td>
<td align="right">16.811</td>
<td align="right">20.424</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">166</td>
<td align="left">Hospital I</td>
<td align="right">18</td>
<td align="right">10.843</td>
<td align="right">4.848</td>
<td align="right">6.903</td>
<td align="right">8.922</td>
<td align="right">13.793</td>
<td align="right">16.477</td>
<td align="right">19.856</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">179</td>
<td align="left">Hospital D</td>
<td align="right">13</td>
<td align="right">7.263</td>
<td align="right">5.040</td>
<td align="right">7.046</td>
<td align="right">9.004</td>
<td align="right">13.695</td>
<td align="right">16.268</td>
<td align="right">19.503</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">191</td>
<td align="left">Hospital F</td>
<td align="right">19</td>
<td align="right">9.948</td>
<td align="right">5.203</td>
<td align="right">7.167</td>
<td align="right">9.072</td>
<td align="right">13.614</td>
<td align="right">16.096</td>
<td align="right">19.212</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">215</td>
<td align="left">Hospital B</td>
<td align="right">31</td>
<td align="right">14.419</td>
<td align="right">5.492</td>
<td align="right">7.378</td>
<td align="right">9.191</td>
<td align="right">13.472</td>
<td align="right">15.798</td>
<td align="right">18.708</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">242</td>
<td align="left">Hospital C</td>
<td align="right">23</td>
<td align="right">9.504</td>
<td align="right">5.771</td>
<td align="right">7.580</td>
<td align="right">9.304</td>
<td align="right">13.339</td>
<td align="right">15.519</td>
<td align="right">18.238</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">260</td>
<td align="left">Hospital E</td>
<td align="right">30</td>
<td align="right">11.538</td>
<td align="right">5.935</td>
<td align="right">7.698</td>
<td align="right">9.369</td>
<td align="right">13.263</td>
<td align="right">15.358</td>
<td align="right">17.969</td>
<td align="right">11.242</td>
</tr>
<tr class="odd">
<td align="right">284</td>
<td align="left">Hospital J</td>
<td align="right">34</td>
<td align="right">11.972</td>
<td align="right">6.132</td>
<td align="right">7.839</td>
<td align="right">9.447</td>
<td align="right">13.173</td>
<td align="right">15.170</td>
<td align="right">17.652</td>
<td align="right">11.242</td>
</tr>
<tr class="even">
<td align="right">293</td>
<td align="left">Hospital H</td>
<td align="right">27</td>
<td align="right">9.215</td>
<td align="right">6.200</td>
<td align="right">7.887</td>
<td align="right">9.474</td>
<td align="right">13.142</td>
<td align="right">15.105</td>
<td align="right">17.544</td>
<td align="right">11.242</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="sr---standardised-ratio-funnel">SR - Standardised Ratio Funnel<a class="anchor" aria-label="anchor" href="#sr---standardised-ratio-funnel"></a>
</h3>
<p>Used for indirectly standardized ratios (e.g., HSMR - Hospital
Standardised Mortality Ratio).</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate observed and expected deaths</span></span>
<span><span class="va">dat_sr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  hospital <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Hospital "</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  observed_deaths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">10</span>, lambda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">30</span><span class="op">:</span><span class="fl">80</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  expected_deaths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">30</span><span class="op">:</span><span class="fl">80</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_sr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_sr</span>,</span>
<span>                    keys <span class="op">=</span> <span class="va">hospital</span>,</span>
<span>                    numerators <span class="op">=</span> <span class="va">observed_deaths</span>,</span>
<span>                    denominators <span class="op">=</span> <span class="va">expected_deaths</span>,</span>
<span>                    funnel_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"SR"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_sr</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/sr_funnel-1.svg"><!-- --></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">funnel_sr</span><span class="op">$</span><span class="va">limits</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="14%">
<col width="13%">
<col width="12%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="right">denominator</th>
<th align="left">group</th>
<th align="right">numerator</th>
<th align="right">value</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">target</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">35</td>
<td align="left">Hospital I</td>
<td align="right">43</td>
<td align="right">1.229</td>
<td align="right">0.558</td>
<td align="right">0.697</td>
<td align="right">0.833</td>
<td align="right">1.198</td>
<td align="right">1.391</td>
<td align="right">1.641</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">38</td>
<td align="left">Hospital J</td>
<td align="right">68</td>
<td align="right">1.789</td>
<td align="right">0.572</td>
<td align="right">0.708</td>
<td align="right">0.839</td>
<td align="right">1.189</td>
<td align="right">1.373</td>
<td align="right">1.610</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">42</td>
<td align="left">Hospital F</td>
<td align="right">55</td>
<td align="right">1.310</td>
<td align="right">0.590</td>
<td align="right">0.721</td>
<td align="right">0.847</td>
<td align="right">1.178</td>
<td align="right">1.352</td>
<td align="right">1.575</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">54</td>
<td align="left">Hospital B</td>
<td align="right">63</td>
<td align="right">1.167</td>
<td align="right">0.632</td>
<td align="right">0.751</td>
<td align="right">0.865</td>
<td align="right">1.155</td>
<td align="right">1.305</td>
<td align="right">1.496</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">56</td>
<td align="left">Hospital A</td>
<td align="right">35</td>
<td align="right">0.625</td>
<td align="right">0.637</td>
<td align="right">0.755</td>
<td align="right">0.867</td>
<td align="right">1.151</td>
<td align="right">1.299</td>
<td align="right">1.486</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">57</td>
<td align="left">Hospital D</td>
<td align="right">65</td>
<td align="right">1.140</td>
<td align="right">0.640</td>
<td align="right">0.757</td>
<td align="right">0.869</td>
<td align="right">1.150</td>
<td align="right">1.296</td>
<td align="right">1.481</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">59</td>
<td align="left">Hospital G</td>
<td align="right">60</td>
<td align="right">1.017</td>
<td align="right">0.645</td>
<td align="right">0.761</td>
<td align="right">0.871</td>
<td align="right">1.147</td>
<td align="right">1.290</td>
<td align="right">1.471</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">62</td>
<td align="left">Hospital H</td>
<td align="right">82</td>
<td align="right">1.323</td>
<td align="right">0.653</td>
<td align="right">0.767</td>
<td align="right">0.874</td>
<td align="right">1.143</td>
<td align="right">1.282</td>
<td align="right">1.458</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">63</td>
<td align="left">Hospital C</td>
<td align="right">70</td>
<td align="right">1.111</td>
<td align="right">0.655</td>
<td align="right">0.768</td>
<td align="right">0.875</td>
<td align="right">1.142</td>
<td align="right">1.279</td>
<td align="right">1.454</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">71</td>
<td align="left">Hospital E</td>
<td align="right">49</td>
<td align="right">0.690</td>
<td align="right">0.673</td>
<td align="right">0.781</td>
<td align="right">0.882</td>
<td align="right">1.133</td>
<td align="right">1.261</td>
<td align="right">1.424</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="sr-funnel-with-overdispersion-adjustment">SR Funnel with Overdispersion Adjustment<a class="anchor" aria-label="anchor" href="#sr-funnel-with-overdispersion-adjustment"></a>
</h4>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">funnel_sr_od</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_sr</span>,</span>
<span>                       keys <span class="op">=</span> <span class="va">hospital</span>,</span>
<span>                       numerators <span class="op">=</span> <span class="va">observed_deaths</span>,</span>
<span>                       denominators <span class="op">=</span> <span class="va">expected_deaths</span>,</span>
<span>                       funnel_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"SR"</span>,</span>
<span>                                              od_adjust <span class="op">=</span> <span class="st">"yes"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_sr_od</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/sr_od_funnel-1.svg"><!-- --></p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">funnel_sr_od</span><span class="op">$</span><span class="va">limits</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="14%">
<col width="13%">
<col width="12%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="right">denominator</th>
<th align="left">group</th>
<th align="right">numerator</th>
<th align="right">value</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">target</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">35</td>
<td align="left">Hospital I</td>
<td align="right">43</td>
<td align="right">1.229</td>
<td align="right">0.298</td>
<td align="right">0.507</td>
<td align="right">0.729</td>
<td align="right">1.314</td>
<td align="right">1.659</td>
<td align="right">2.115</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">38</td>
<td align="left">Hospital J</td>
<td align="right">68</td>
<td align="right">1.789</td>
<td align="right">0.304</td>
<td align="right">0.512</td>
<td align="right">0.732</td>
<td align="right">1.309</td>
<td align="right">1.649</td>
<td align="right">2.097</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">42</td>
<td align="left">Hospital F</td>
<td align="right">55</td>
<td align="right">1.310</td>
<td align="right">0.312</td>
<td align="right">0.518</td>
<td align="right">0.736</td>
<td align="right">1.304</td>
<td align="right">1.638</td>
<td align="right">2.078</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">54</td>
<td align="left">Hospital B</td>
<td align="right">63</td>
<td align="right">1.167</td>
<td align="right">0.328</td>
<td align="right">0.532</td>
<td align="right">0.744</td>
<td align="right">1.294</td>
<td align="right">1.615</td>
<td align="right">2.036</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">56</td>
<td align="left">Hospital A</td>
<td align="right">35</td>
<td align="right">0.625</td>
<td align="right">0.331</td>
<td align="right">0.533</td>
<td align="right">0.745</td>
<td align="right">1.292</td>
<td align="right">1.612</td>
<td align="right">2.031</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">57</td>
<td align="left">Hospital D</td>
<td align="right">65</td>
<td align="right">1.140</td>
<td align="right">0.332</td>
<td align="right">0.534</td>
<td align="right">0.746</td>
<td align="right">1.292</td>
<td align="right">1.610</td>
<td align="right">2.028</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">59</td>
<td align="left">Hospital G</td>
<td align="right">60</td>
<td align="right">1.017</td>
<td align="right">0.333</td>
<td align="right">0.536</td>
<td align="right">0.747</td>
<td align="right">1.290</td>
<td align="right">1.608</td>
<td align="right">2.024</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">62</td>
<td align="left">Hospital H</td>
<td align="right">82</td>
<td align="right">1.323</td>
<td align="right">0.336</td>
<td align="right">0.538</td>
<td align="right">0.748</td>
<td align="right">1.289</td>
<td align="right">1.604</td>
<td align="right">2.017</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">63</td>
<td align="left">Hospital C</td>
<td align="right">70</td>
<td align="right">1.111</td>
<td align="right">0.337</td>
<td align="right">0.539</td>
<td align="right">0.748</td>
<td align="right">1.288</td>
<td align="right">1.603</td>
<td align="right">2.015</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">71</td>
<td align="left">Hospital E</td>
<td align="right">49</td>
<td align="right">0.690</td>
<td align="right">0.343</td>
<td align="right">0.543</td>
<td align="right">0.751</td>
<td align="right">1.284</td>
<td align="right">1.595</td>
<td align="right">2.000</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="rc---rate-funnel">RC - Rate Funnel<a class="anchor" aria-label="anchor" href="#rc---rate-funnel"></a>
</h3>
<p>Used for rate data with log transformation.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate infection rates across hospitals</span></span>
<span><span class="va">dat_rc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  hospital <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Hospital "</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  infections <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">10</span>, lambda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">20</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  patient_days <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">500</span><span class="op">:</span><span class="fl">2000</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_rc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_rc</span>,</span>
<span>                    keys <span class="op">=</span> <span class="va">hospital</span>,</span>
<span>                    numerators <span class="op">=</span> <span class="va">infections</span>,</span>
<span>                    denominators <span class="op">=</span> <span class="va">patient_days</span>,</span>
<span>                    funnel_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"RC"</span>,</span>
<span>                                           multiplier <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_rc</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/rc_funnel-1.svg"><!-- --></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">funnel_rc</span><span class="op">$</span><span class="va">limits</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="12%">
<col width="11%">
<col width="8%">
<col width="6%">
<col width="6%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="right">denominator</th>
<th align="left">group</th>
<th align="right">numerator</th>
<th align="right">value</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">target</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">797</td>
<td align="left">Hospital C</td>
<td align="right">10</td>
<td align="right">12.547</td>
<td align="right">8.918</td>
<td align="right">9.437</td>
<td align="right">9.904</td>
<td align="right">10.941</td>
<td align="right">11.483</td>
<td align="right">12.151</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">800</td>
<td align="left">Hospital H</td>
<td align="right">17</td>
<td align="right">21.250</td>
<td align="right">8.920</td>
<td align="right">9.438</td>
<td align="right">9.905</td>
<td align="right">10.940</td>
<td align="right">11.481</td>
<td align="right">12.148</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">823</td>
<td align="left">Hospital I</td>
<td align="right">5</td>
<td align="right">6.075</td>
<td align="right">8.940</td>
<td align="right">9.451</td>
<td align="right">9.912</td>
<td align="right">10.932</td>
<td align="right">11.465</td>
<td align="right">12.121</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">921</td>
<td align="left">Hospital E</td>
<td align="right">4</td>
<td align="right">4.343</td>
<td align="right">9.014</td>
<td align="right">9.501</td>
<td align="right">9.938</td>
<td align="right">10.903</td>
<td align="right">11.405</td>
<td align="right">12.021</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">955</td>
<td align="left">Hospital G</td>
<td align="right">23</td>
<td align="right">24.084</td>
<td align="right">9.038</td>
<td align="right">9.517</td>
<td align="right">9.947</td>
<td align="right">10.894</td>
<td align="right">11.386</td>
<td align="right">11.990</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">1123</td>
<td align="left">Hospital A</td>
<td align="right">15</td>
<td align="right">13.357</td>
<td align="right">9.137</td>
<td align="right">9.584</td>
<td align="right">9.982</td>
<td align="right">10.856</td>
<td align="right">11.307</td>
<td align="right">11.859</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">1405</td>
<td align="left">Hospital D</td>
<td align="right">11</td>
<td align="right">7.829</td>
<td align="right">9.264</td>
<td align="right">9.668</td>
<td align="right">10.026</td>
<td align="right">10.807</td>
<td align="right">11.208</td>
<td align="right">11.696</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">1530</td>
<td align="left">Hospital F</td>
<td align="right">15</td>
<td align="right">9.804</td>
<td align="right">9.310</td>
<td align="right">9.698</td>
<td align="right">10.042</td>
<td align="right">10.791</td>
<td align="right">11.174</td>
<td align="right">11.640</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">1657</td>
<td align="left">Hospital B</td>
<td align="right">16</td>
<td align="right">9.656</td>
<td align="right">9.350</td>
<td align="right">9.725</td>
<td align="right">10.056</td>
<td align="right">10.775</td>
<td align="right">11.143</td>
<td align="right">11.589</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">1805</td>
<td align="left">Hospital J</td>
<td align="right">7</td>
<td align="right">3.878</td>
<td align="right">9.392</td>
<td align="right">9.752</td>
<td align="right">10.071</td>
<td align="right">10.760</td>
<td align="right">11.111</td>
<td align="right">11.537</td>
<td align="right">10.41</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="rc-funnel-with-overdispersion-adjustment">RC Funnel with Overdispersion Adjustment<a class="anchor" aria-label="anchor" href="#rc-funnel-with-overdispersion-adjustment"></a>
</h4>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">funnel_rc_od</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/funnel.html">funnel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat_rc</span>,</span>
<span>                       keys <span class="op">=</span> <span class="va">hospital</span>,</span>
<span>                       numerators <span class="op">=</span> <span class="va">infections</span>,</span>
<span>                       denominators <span class="op">=</span> <span class="va">patient_days</span>,</span>
<span>                       funnel_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>chart_type <span class="op">=</span> <span class="st">"RC"</span>,</span>
<span>                                              od_adjust <span class="op">=</span> <span class="st">"yes"</span>,</span>
<span>                                              multiplier <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">funnel_rc_od</span><span class="op">$</span><span class="va">static_plot</span></span></code></pre></div>
<p><img src="chart_types_files/figure-html/rc_od_funnel-1.svg"><!-- --></p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">funnel_rc_od</span><span class="op">$</span><span class="va">limits</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="12%">
<col width="11%">
<col width="8%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="right">denominator</th>
<th align="left">group</th>
<th align="right">numerator</th>
<th align="right">value</th>
<th align="right">ll99</th>
<th align="right">ll95</th>
<th align="right">ll68</th>
<th align="right">ul68</th>
<th align="right">ul95</th>
<th align="right">ul99</th>
<th align="right">target</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">797</td>
<td align="left">Hospital C</td>
<td align="right">10</td>
<td align="right">12.547</td>
<td align="right">2.776</td>
<td align="right">4.501</td>
<td align="right">6.803</td>
<td align="right">15.928</td>
<td align="right">24.073</td>
<td align="right">39.039</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">800</td>
<td align="left">Hospital H</td>
<td align="right">17</td>
<td align="right">21.250</td>
<td align="right">2.776</td>
<td align="right">4.501</td>
<td align="right">6.803</td>
<td align="right">15.928</td>
<td align="right">24.072</td>
<td align="right">39.037</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">823</td>
<td align="left">Hospital I</td>
<td align="right">5</td>
<td align="right">6.075</td>
<td align="right">2.777</td>
<td align="right">4.502</td>
<td align="right">6.804</td>
<td align="right">15.927</td>
<td align="right">24.069</td>
<td align="right">39.027</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">921</td>
<td align="left">Hospital E</td>
<td align="right">4</td>
<td align="right">4.343</td>
<td align="right">2.779</td>
<td align="right">4.505</td>
<td align="right">6.806</td>
<td align="right">15.922</td>
<td align="right">24.054</td>
<td align="right">38.991</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">955</td>
<td align="left">Hospital G</td>
<td align="right">23</td>
<td align="right">24.084</td>
<td align="right">2.780</td>
<td align="right">4.506</td>
<td align="right">6.806</td>
<td align="right">15.921</td>
<td align="right">24.050</td>
<td align="right">38.980</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">1123</td>
<td align="left">Hospital A</td>
<td align="right">15</td>
<td align="right">13.357</td>
<td align="right">2.783</td>
<td align="right">4.509</td>
<td align="right">6.809</td>
<td align="right">15.915</td>
<td align="right">24.033</td>
<td align="right">38.936</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">1405</td>
<td align="left">Hospital D</td>
<td align="right">11</td>
<td align="right">7.829</td>
<td align="right">2.787</td>
<td align="right">4.513</td>
<td align="right">6.812</td>
<td align="right">15.908</td>
<td align="right">24.013</td>
<td align="right">38.886</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">1530</td>
<td align="left">Hospital F</td>
<td align="right">15</td>
<td align="right">9.804</td>
<td align="right">2.788</td>
<td align="right">4.514</td>
<td align="right">6.812</td>
<td align="right">15.906</td>
<td align="right">24.007</td>
<td align="right">38.869</td>
<td align="right">10.41</td>
</tr>
<tr class="odd">
<td align="right">1657</td>
<td align="left">Hospital B</td>
<td align="right">16</td>
<td align="right">9.656</td>
<td align="right">2.789</td>
<td align="right">4.515</td>
<td align="right">6.813</td>
<td align="right">15.904</td>
<td align="right">24.001</td>
<td align="right">38.855</td>
<td align="right">10.41</td>
</tr>
<tr class="even">
<td align="right">1805</td>
<td align="left">Hospital J</td>
<td align="right">7</td>
<td align="right">3.878</td>
<td align="right">2.790</td>
<td align="right">4.516</td>
<td align="right">6.814</td>
<td align="right">15.902</td>
<td align="right">23.996</td>
<td align="right">38.841</td>
<td align="right">10.41</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="chart-selection-guide">Chart Selection Guide<a class="anchor" aria-label="anchor" href="#chart-selection-guide"></a>
</h2>
<div class="section level3">
<h3 id="spc-chart-selection">SPC Chart Selection<a class="anchor" aria-label="anchor" href="#spc-chart-selection"></a>
</h3>
<table class="table">
<colgroup>
<col width="30%">
<col width="33%">
<col width="36%">
</colgroup>
<thead><tr class="header">
<th>Data Type</th>
<th>Chart Type</th>
<th>When to Use</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Individual measurements</td>
<td>
<code>i</code>, <code>i_m</code>, <code>i_mm</code>
</td>
<td>Single measurement per time point</td>
</tr>
<tr class="even">
<td>Ratios/efficiency metrics</td>
<td>
<code>i</code> with denominators</td>
<td>Monitoring rates calculated from num/denom</td>
</tr>
<tr class="odd">
<td>Moving ranges</td>
<td><code>mr</code></td>
<td>Monitoring variation between consecutive points</td>
</tr>
<tr class="even">
<td>Proportions</td>
<td>
<code>p</code>, <code>pp</code>
</td>
<td>Numerator ≤ denominator (e.g., defect rates)</td>
</tr>
<tr class="odd">
<td>Rates</td>
<td>
<code>u</code>, <code>up</code>
</td>
<td>Events per unit exposure (any ratio)</td>
</tr>
<tr class="even">
<td>Counts</td>
<td><code>c</code></td>
<td>Fixed area of opportunity</td>
</tr>
<tr class="odd">
<td>Sample means</td>
<td><code>xbar</code></td>
<td>Multiple measurements per time point</td>
</tr>
<tr class="even">
<td>Sample SDs</td>
<td><code>s</code></td>
<td>Monitoring within-sample variation</td>
</tr>
<tr class="odd">
<td>Opportunities between events</td>
<td><code>g</code></td>
<td>Count of non-events between events</td>
</tr>
<tr class="even">
<td>Time between events</td>
<td><code>t</code></td>
<td>Continuous time intervals</td>
</tr>
<tr class="odd">
<td>Trend visualization only</td>
<td><code>run</code></td>
<td>No statistical limits needed</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="funnel-plot-selection">Funnel Plot Selection<a class="anchor" aria-label="anchor" href="#funnel-plot-selection"></a>
</h3>
<table class="table">
<colgroup>
<col width="30%">
<col width="33%">
<col width="36%">
</colgroup>
<thead><tr class="header">
<th>Data Type</th>
<th>Chart Type</th>
<th>When to Use</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Proportions</td>
<td><code>PR</code></td>
<td>Numerator ≤ denominator (complication rates, readmissions)</td>
</tr>
<tr class="even">
<td>Standardised ratios</td>
<td><code>SR</code></td>
<td>Observed/expected (mortality, morbidity ratios)</td>
</tr>
<tr class="odd">
<td>Rates</td>
<td><code>RC</code></td>
<td>Events per exposure (infections per patient-days)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="overdispersion-adjustment">Overdispersion Adjustment<a class="anchor" aria-label="anchor" href="#overdispersion-adjustment"></a>
</h3>
<p>Use <code>od_adjust = "yes"</code> when: - Data shows more variation
than expected from binomial/Poisson models - There is clustering or
hierarchical structure in the data - Groups have different underlying
risks not captured by standardization - Control limits appear too narrow
for the observed variation</p>
</div>
</div>
<div class="section level2">
<h2 id="data-requirements-summary">Data Requirements Summary<a class="anchor" aria-label="anchor" href="#data-requirements-summary"></a>
</h2>
<div class="section level3">
<h3 id="spc-charts">SPC Charts<a class="anchor" aria-label="anchor" href="#spc-charts"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Chart Type</th>
<th align="center">Numerator</th>
<th align="center">Denominator</th>
<th align="center">Standard Deviation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>run, i, i_m, i_mm, mr</td>
<td align="center">✓</td>
<td align="center">Optional*</td>
<td align="center">-</td>
</tr>
<tr class="even">
<td>p, pp</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">-</td>
</tr>
<tr class="odd">
<td>u, up</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">-</td>
</tr>
<tr class="even">
<td>c</td>
<td align="center">✓</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr class="odd">
<td>xbar</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">✓</td>
</tr>
<tr class="even">
<td>s</td>
<td align="center">✓**</td>
<td align="center">✓</td>
<td align="center">-</td>
</tr>
<tr class="odd">
<td>g, t</td>
<td align="center">✓</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>
<p>*Optional denominator creates a ratio chart **For s-chart, numerator
contains standard deviation values</p>
</div>
<div class="section level3">
<h3 id="funnel-plots">Funnel Plots<a class="anchor" aria-label="anchor" href="#funnel-plots"></a>
</h3>
<p>All funnel plot types require: - Keys (organization/group identifier)
- Numerators (event counts or observed values) - Denominators (sample
sizes or expected values)</p>
<p>Additional constraints: - <strong>PR</strong>: Numerator must be ≤
denominator - <strong>SR</strong>: Typically observed/expected counts or
deaths - <strong>RC</strong>: Any rate data (events/exposure)</p>
</div>
</div>
<div class="section level2">
<h2 id="additional-resources">Additional Resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h2>
<p>For more information, see: - <code><a href="../articles/getting_started.html">vignette("getting_started")</a></code>
- Basic package usage - <code>vignette("interactive_charts")</code> -
Interactive features with crosstalk</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrew R. Johnson, Healthcare Quality Intelligence Unit (Western Australia Health).</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
