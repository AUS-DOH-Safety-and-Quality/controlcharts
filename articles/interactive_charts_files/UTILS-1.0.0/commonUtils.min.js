const makeConstructorArgs=function(e){return{element:e,host:{createSelectionManager:()=>({registerOnSelectCallback:()=>{},getSelectionIds:()=>[],showContextMenu:()=>{},clear:()=>{}}),createSelectionIdBuilder:()=>({withCategory:()=>({createSelectionId:()=>{}})}),tooltipService:{show:()=>{},hide:()=>{}},eventService:{renderingStarted:()=>{},renderingFailed:()=>{},renderingFinished:()=>{}},colorPalette:{isHighContrast:!1,foreground:{value:"black"},background:{value:"white"},foregroundSelected:{value:"black"},hyperlink:{value:"blue"}},hostCapabilities:{allowInteractions:!0}}}},aggregateColumn=function(e,t){switch(t){case"sum":return e.reduce((e,t)=>e+t,0);case"mean":return e.reduce((e,t)=>e+t,0)/e.length;case"sd":var r=e.reduce((e,t)=>e+t,0)/e.length;return Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-r,2),0)/(e.length-1));case"count":return e.length;case"min":return Math.min(...e);case"max":return Math.max(...e);case"median":var a=[...e].sort((e,t)=>e-t),n=Math.floor(a.length/2);return a.length%2!=0?a[n]:(a[n-1]+a[n])/2;case"first":return e[0];case"last":return e[e.length-1];default:throw new Error(`Unsupported aggregation: ${t}`)}};function isPlainObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function makeUpdateValues(e,t,r,a,n,i){i&&(e=e.filter(e=>i.includes(e.crosstalk_identities)));var s=Object.groupBy(e,e=>e.categories);Object.freeze(s);var o=[];for(group in s)o.push([group,s[group].map(e=>e.crosstalk_identities)]);var l={categories:[{source:{roles:{key:!0},type:{temporal:{underlyingType:519}}},values:[],objects:[]}],values:[],crosstalk_identities:Object.fromEntries(o)},c=Object.keys(e[0]).filter(e=>!["categories","crosstalk_identities"].includes(e));for(var u in l.values=c.map(e=>({source:{roles:{[e]:!0}},values:[]})),n=n.map(e=>e.toString()),s){if(l.categories[0].values.push(u),a){var g=JSON.parse(JSON.stringify(t));for(var d in g)for(var h in g[d])isPlainObject(g[d][h])&&(g[d][h]=g[d][h][u]);l.categories[0].objects.push(g)}else l.categories[0].objects.push(t);for(var f=0;f<c.length;f++){var p=c[f],v=aggregateColumn(s[u].map(e=>e[p]),r[p]);l.values[f].values.push(v)}}return{dataViews:[{categorical:{categories:l.categories,values:l.values}}],crosstalk_identities:l.crosstalk_identities}}function updateChartTitle(e,t){return e.selectAll(".chart-title").remove(),null!==t.text&&e.append("text").classed("chart-title",!0).attr("x",t.x).attr("y",t.y).attr("text-anchor",t.text_anchor).attr("dominant-baseline",t.dominant_baseline).attr("font-size",t.font_size).attr("font-weight",t.font_weight).attr("font-family",t.font_family).text(t.text),e}
